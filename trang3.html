<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>L·ªìng ƒê√®n √îng Sao √Ånh TrƒÉng</title>
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600;700&family=Noto+Serif:wght@400;600&display=swap" rel="stylesheet">
<style>
:root{--red:#d94d2c;--gold:#ffd966;--amber:#ffa93a;}
*{box-sizing:border-box;margin:0;padding:0}
body{
  height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;
  background: radial-gradient(ellipse at center, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
  font-family:'Noto Serif',serif;overflow:hidden;
  position:relative;
}

/* Sao l·∫•p l√°nh n·ªÅn */
.star-bg {
  position:fixed; inset:0; z-index:0;
}
.star {
  position:absolute; width:2px; height:2px; background:#fff; border-radius:50%;
  animation: twinkle 3s ease-in-out infinite alternate;
}
@keyframes twinkle {
  0%,100% { opacity:0.3; transform:scale(0.8); }
  50% { opacity:1; transform:scale(1.2); }
}

.caption{
  font-family:'Dancing Script',cursive;font-size:clamp(28px,5vw,42px);
  color:#ffd700;text-shadow:0 0 20px rgba(255,215,0,0.8);
  margin-bottom:20px;z-index:3; text-align:center;
  position:relative;
}
.caption::before, .caption::after {
  content: "‚ú®"; position:absolute; top:50%; transform:translateY(-50%);
  animation: float 3s ease-in-out infinite;
  filter: drop-shadow(0 0 10px gold);
}
.caption::before { left: -30px; animation-delay: 0s; }
.caption::after { right: -30px; animation-delay: 1.5s; }
@keyframes float {
  0%, 100% { transform: translateY(-50%) scale(1); }
  50% { transform: translateY(-60%) scale(1.2); }
}

/* Canvas ng√¥i sao nh·ªè h∆°n */
.canvas-container {
  position:relative;
  width:min(80vw, 500px);
  height:min(40vh, 350px);
  margin-bottom:30px;
}
canvas{
  width:100%; height:100%;
  border-radius:20px;
  background: radial-gradient(circle at center, rgba(255,215,0,0.1) 0%, transparent 70%);
  box-shadow:0 0 50px rgba(255,215,0,0.3),
            inset 0 0 30px rgba(255,255,255,0.1);
  border:2px solid rgba(255,215,0,0.3);
}

/* Ph·∫ßn h√¨nh ·∫£nh 3D to h∆°n */
.scene-container{
  position:relative;
  width:min(95vw, 800px);
  height:min(45vh, 400px);
  perspective:1000px;
  margin:10px 0 20px 0;
}
.scene{
  position:absolute;
  width:100%;
  height:100%;
  transform-style:preserve-3d;
  animation:spin 25s linear infinite;
}
@keyframes spin{
  from{transform:rotateY(0)}
  to{transform:rotateY(360deg)}
}

.photo{
  position:absolute;
  width:180px;
  height:140px;
  border-radius:12px;
  border:3px solid #ffd700;
  box-shadow:0 0 25px rgba(255,215,0,0.7),
            0 8px 25px rgba(0,0,0,0.3);
  object-fit:cover;
  left:50%;
  top:50%;
  transform-origin:center center;
  transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  cursor:pointer;
  background:linear-gradient(45deg, #fff9e6, #ffeaa7);
}
.photo:hover{
  transform: scale(1.2) rotateY(180deg) !important;
  z-index: 100;
  box-shadow:0 0 40px rgba(255,215,0,0.9),
            0 15px 35px rgba(0,0,0,0.4);
  border-color:#ff6b35;
}

.back-btn{
  margin-top:25px;
  padding:12px 30px;
  border:none;
  border-radius:25px;
  background:linear-gradient(45deg,#ffd700,#ff6b35);
  color:#1a1a2e;
  font-weight:700;
  font-size:16px;
  box-shadow:0 5px 20px rgba(255,107,53,0.4);
  cursor:pointer;
  transition:all 0.3s ease;
  z-index:3;
  border:2px solid rgba(255,255,255,0.3);
}
.back-btn:hover{
  transform:translateY(-3px);
  box-shadow:0 8px 25px rgba(255,215,0,0.6);
  background:linear-gradient(45deg,#ffed4e,#ff8c42);
}

/* Controls ƒë∆°n gi·∫£n */
.controls {
  display:flex;
  gap:15px;
  margin:15px 0;
  align-items:center;
  z-index:3;
}

.control-btn {
  padding:8px 16px;
  border:none;
  border-radius:20px;
  background:linear-gradient(45deg, rgba(255,215,0,0.9), rgba(255,107,53,0.9));
  color:#1a1a2e;
  cursor:pointer;
  transition:all 0.3s ease;
  font-weight:600;
  font-size:14px;
  border:2px solid rgba(255,255,255,0.2);
}

.control-btn:hover {
  transform:translateY(-2px);
  box-shadow:0 5px 15px rgba(255,215,0,0.4);
}

/* Hi·ªáu ·ª©ng pause khi hover */
.scene-container:hover .scene {
  animation-play-state: paused;
}
</style>
</head>
<body>
<!-- Sao n·ªÅn -->
<div class="star-bg" id="starBg"></div>

<div class="caption">T·ªë Lan</div>

<div class="canvas-container">
  <canvas id="starCanvas"></canvas>
</div>



<div class="scene-container" id="sceneWrap">
  <div class="scene" id="scene"></div>
</div>

<button class="back-btn" onclick="window.location.href='trang2.html'">Tr·ªü V·ªÅ ƒê√≥n TrƒÉng üéë</button>

<script>
// ==== T·∫†O SAO N·ªÄN ====
(function createStars() {
  const starBg = document.getElementById('starBg');
  const starCount = 150;
  
  for(let i = 0; i < starCount; i++) {
    const star = document.createElement('div');
    star.className = 'star';
    star.style.left = Math.random() * 100 + 'vw';
    star.style.top = Math.random() * 100 + 'vh';
    star.style.animationDelay = Math.random() * 5 + 's';
    star.style.opacity = Math.random() * 0.8 + 0.2;
    starBg.appendChild(star);
  }
})();

// ==== L·ªíNG ƒê√àN √îNG SAO ƒê·∫∏P H∆†N ====
(() => {
 const canvas = document.getElementById('starCanvas');
 const ctx = canvas.getContext('2d');
 let W, H, DPR = window.devicePixelRatio || 1, time = 0;
 
 function resize() {
   const r = canvas.getBoundingClientRect();
   W = r.width * DPR;
   H = r.height * DPR;
   canvas.width = W;
   canvas.height = H;
   ctx.scale(DPR, DPR);
 }

 function drawStar(cx, cy, spikes, outerRadius, innerRadius, rotation) {
   let rot = Math.PI / 2 * 3;
   let x = cx;
   let y = cy;
   let step = Math.PI / spikes;
   
   ctx.beginPath();
   ctx.moveTo(cx, cy - outerRadius);
   
   for (let i = 0; i < spikes; i++) {
     x = cx + Math.cos(rot) * outerRadius;
     y = cy + Math.sin(rot) * outerRadius;
     ctx.lineTo(x, y);
     rot += step;

     x = cx + Math.cos(rot) * innerRadius;
     y = cy + Math.sin(rot) * innerRadius;
     ctx.lineTo(x, y);
     rot += step;
   }
   
   ctx.lineTo(cx, cy - outerRadius);
   ctx.closePath();
 }

 function render(t) {
   time = t;
   ctx.clearRect(0, 0, canvas.width, canvas.height);
   
   const cx = canvas.width / (2 * DPR);
   const cy = canvas.height / (2 * DPR);
   const pulse = (Math.sin(t * 0.002) + 1) / 2;
   const rotation = Math.sin(t * 0.001) * 0.2;

   // Glow n·ªÅn
   const glow = ctx.createRadialGradient(cx, cy, 0, cx, cy, 150);
   glow.addColorStop(0, `rgba(255, 215, 0, ${0.2 + pulse * 0.1})`);
   glow.addColorStop(1, 'transparent');
   
   ctx.fillStyle = glow;
   ctx.fillRect(0, 0, canvas.width / DPR, canvas.height / DPR);

   // V·∫Ω ng√¥i sao ch√≠nh
   ctx.save();
   ctx.translate(cx, cy);
   ctx.rotate(rotation);
   
   // L·ªõp glow b√™n ngo√†i
   ctx.shadowColor = 'rgba(255, 215, 0, 0.8)';
   ctx.shadowBlur = 30 + pulse * 20;
   
   // Th√¢n sao v·ªõi gradient ƒë·∫πp
   const starGradient = ctx.createLinearGradient(-80, -80, 80, 80);
   starGradient.addColorStop(0, '#FFD700');
   starGradient.addColorStop(0.5, '#FFA500');
   starGradient.addColorStop(1, '#FF4500');
   
   drawStar(0, 0, 5, 70, 30, 0);
   ctx.fillStyle = starGradient;
   ctx.fill();
   
   // Vi·ªÅn sao
   ctx.strokeStyle = 'rgba(255, 69, 0, 0.8)';
   ctx.lineWidth = 3;
   ctx.stroke();
   
   ctx.restore();

   // T√¢m s√°ng
   const coreGlow = ctx.createRadialGradient(cx, cy, 0, cx, cy, 35);
   coreGlow.addColorStop(0, 'rgba(255, 255, 240, 0.9)');
   coreGlow.addColorStop(0.7, 'rgba(255, 215, 0, 0.4)');
   coreGlow.addColorStop(1, 'transparent');
   
   ctx.fillStyle = coreGlow;
   ctx.beginPath();
   ctx.arc(cx, cy, 35, 0, Math.PI * 2);
   ctx.fill();

   // C√°c tia s√°ng nh·ªè
   ctx.strokeStyle = `rgba(255, 215, 0, ${0.3 + pulse * 0.2})`;
   ctx.lineWidth = 2;
   
   for(let i = 0; i < 12; i++) {
     const angle = (i / 12) * Math.PI * 2;
     const length = 90 + Math.sin(t * 0.003 + i) * 10;
     
     ctx.beginPath();
     ctx.moveTo(cx, cy);
     ctx.lineTo(
       cx + Math.cos(angle) * length,
       cy + Math.sin(angle) * length
     );
     ctx.stroke();
   }

   // ƒê·ªëm s√°ng bay xung quanh
   for(let i = 0; i < 8; i++) {
     const angle = (i / 8) * Math.PI * 2 + t * 0.0005;
     const distance = 120 + Math.sin(t * 0.001 + i) * 20;
     const size = 3 + Math.sin(t * 0.002 + i) * 2;
     
     const x = cx + Math.cos(angle) * distance;
     const y = cy + Math.sin(angle) * distance;
     
     ctx.fillStyle = `rgba(255, ${200 + Math.sin(t * 0.005 + i) * 55}, 100, ${0.5 + Math.sin(t * 0.004 + i) * 0.3})`;
     ctx.beginPath();
     ctx.arc(x, y, size, 0, Math.PI * 2);
     ctx.fill();
   }

   requestAnimationFrame(render);
 }

 window.addEventListener("resize", () => { resize(); });
 resize();
 requestAnimationFrame(render);
})();

// ==== ·∫¢NH QUAY 3D ====
(() => {
 const scene = document.getElementById("scene");
 const photos = ['anhlan1.jpg', 'anhlan2.jpg', 'anhlan3.jpg', 'anhlan4.jpg', 'anhlan5.jpg'];
 const R = 280; // TƒÉng b√°n k√≠nh ƒë·ªÉ ·∫£nh to h∆°n
 const aInc = 2 * Math.PI / photos.length;
 
 photos.forEach((src, i) => {
   const img = document.createElement("img");
   img.className = "photo";
   img.src = src;
   img.alt = `H√¨nh ·∫£nh Trung Thu ${i + 1}`;
   
   const a = i * aInc;
   const x = R * Math.cos(a);
   const z = R * Math.sin(a);
   
   img.style.transform = `translate(-50%, -50%) translateX(${x}px) translateZ(${z}px) rotateY(${-a * 180 / Math.PI}deg)`;
   scene.appendChild(img);
 });

 // Pause khi hover
 const wrap = document.getElementById("sceneWrap");
 wrap.addEventListener("mouseenter", () => scene.style.animationPlayState = "paused");
 wrap.addEventListener("mouseleave", () => scene.style.animationPlayState = "running");
})();

// ==== CH·ª®C NƒÇNG T·∫†M D·ª™NG ====
function toggleRotation() {
 const scene = document.getElementById("scene");
 if (scene.style.animationPlayState === "paused") {
   scene.style.animationPlayState = "running";
 } else {
   scene.style.animationPlayState = "paused";
 }
}
</script>
</body>

</html>
